
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- common.css -->
      <style>* {-webkit-tap-highlight-color: rgba(0,0,0,0);}html {-webkit-text-size-adjust: none;}body {font-family: -apple-system, Helvetica, Arial, sans-serif;margin: 0;padding: 20px;color: #333;word-wrap: break-word;}h1, h2, h3, h4, h5, h6 {line-height: 1.1;}img {max-width: 100% !important;height: auto;}blockquote {margin: 0;padding: 0 15px;color: #777;border-left: 4px solid #ddd;}hr {background-color: #ddd;border: 0;height: 1px;margin: 15px 0;}code {font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;line-height: 1.4;margin: 0;padding: 0.2em 0;font-size: 90%;background-color: rgba(0,0,0,0.04);border-radius: 3px;}pre > code {margin: 0;padding: 0;font-size: 100%;word-break: normal;background: transparent;border: 0;}ol {list-style-type: decimal;}ol ol, ul ol {list-style-type: lower-latin;}ol ol ol, ul ol ol, ul ul ol, ol ul ol {list-style-type: lower-roman;}table {border-spacing: 0;border-collapse: collapse;margin-top: 0;margin-bottom: 16px;}table th {font-weight: bold;}table th, table td {padding: 6px 13px;border: 1px solid #ddd;}table tr {border-top: 1px solid #ccc;}table tr:nth-child(even) {background-color: #f8f8f8;}input[type="checkbox"] {cursor: default;margin-right: 0.5em;font-size: 13px;}.task-list-item {list-style-type: none;}.task-list-item+.task-list-item {margin-top: 3px;}.task-list-item input {float: left;margin: 0.3em 1em 0.25em -1.6em;vertical-align: middle;}#tag-field {margin: 8px 2px 10px;}#tag-field .tag {display: inline-block;background: #cadff3;border-radius: 4px;padding: 1px 8px;color: black;font-size: 12px;margin-right: 10px;line-height: 1.4;}</style>
      <!-- ace-static.css -->
      <style>.ace_static_highlight {white-space: pre-wrap;}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter > .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line {position: relative;}.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}</style>
      <style>.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}</style>
      <!-- export.css -->
      <style>
        body{margin:0 auto;max-width:800px;line-height:1.4}
        #nav{margin:5px 0 10px;font-size:15px}
        #titlearea{border-bottom:1px solid #ccc;font-size:17px;padding:10px 0;}
        #contentarea{font-size:15px;margin:16px 0}
        .cell{outline:0;min-height:20px;margin:5px 0;padding:5px 0;}
        .code-cell{font-family:Menlo,Consolas,'Ubuntu Mono',Monaco,'source-code-pro',monospace;font-size:12px;}
        .latex-cell{white-space:pre-wrap;}
      </style>
      <!-- User CSS -->
      <style> .text-cell {font-size: 15px;}.code-cell {font-size: 12px;}.markdown-cell {font-size: 15px;}.latex-cell {font-size: 15px;}</style>
    </head>
    <body>
      <div id="nav"><div>Next: <a href='6 - OpenFeign with RestTemplate.html'>6 - OpenFeign with RestTemplate</a>, Previous: <a href='4 - Eureka Cluster.html'>4 - Eureka Cluster</a>, Up: <a href='index.html'>Index</a></div></div>
      <div id="titlearea">
        <h2>5 - Ribbon with RestTemplate</h2>
      </div>
      <div id="contentarea"><div class="cell text-cell"><div>Spring Cloud Ribbon is a set of client load balancing and service invocation tools based on Netflix Ribbon.</div><div><br></div><div>Netflix Ribbon is an open source component released by Netflix. Its main function is to provide load balancing algorithms and service calls for clients. Spring Cloud integrates it with other open source service components in Netflix (such as Eureka, Feign, Hytrix, etc.) into the Spring Cloud Netflix module, which is called the Spring Cloud Netflix Ribbon after integration.</div><div><br></div><div>The ribbon is a sub-module of the Spring Cloud Netflix module. It is the secondary encapsulation of the Netflix ribbon by Spring Cloud. Through it, we can transform the service oriented REST template request into a service call for client load balancing.</div><div><br></div><div>The ribbon is one of the most core and important components in the Spring Cloud system. Although it is only a tool type framework and does not need to be deployed independently like Eureka Server (service registry), it exists in almost every microservice built using Spring Cloud.</div><div><br></div><div>The call between the Spring Cloud microservices and the request forwarding of the API gateway are actually implemented through the Spring Cloud Ribbon, including the OpenFeign we will introduce later.</div></div><div class="cell text-cell"><div><u><b>Ribbon implements service invocation</b></u></div><div><br></div><div>Ribbon can be used in conjunction with RestTemplate (RestTemplate) to realize the call between microservices.</div><div><br></div><div>RestTemplate is a request framework in the Spring family for consuming third-party REST services. RestTemplate implements the encapsulation of HTTP requests and provides a set of templated service invocation methods. Through it, Spring applications can easily access various types of HTTP requests.</div><div><br></div><div>The RestTemplate provides corresponding methods for processing various types of HTTP requests, such as HEAD, GET, POST, PUT, DELETE and other types of HTTP requests, which correspond to the headForHeader(), getForObject(), postForObject(), put() and delete() methods in the RestTemplate.</div><div><br></div><div>Let's use a simple example to demonstrate how the ribbon implements service invocation.</div><div><br></div><h3><span style="font-weight: normal;">(1) Under the main project DataEngineSwarm, create a microservice named micro-service-cloud-consumer-dept-80, and introduce the required dependencies in its pom.xml. The code is as follows.</span></h3></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_punctuation ace_xml-decl ace_xml">&lt;?</span><span class="ace_keyword ace_xml-decl ace_xml">xml</span><span class="ace_text ace_whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_decl-attribute-name ace_xml">version</span><span class="ace_keyword ace_operator ace_decl-attribute-equals ace_xml">=</span><span class="ace_string ace_xml">"1.0"</span><span class="ace_text ace_whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_decl-attribute-name ace_xml">encoding</span><span class="ace_keyword ace_operator ace_decl-attribute-equals ace_xml">=</span><span class="ace_string ace_xml">"UTF-8"</span><span class="ace_punctuation ace_xml-decl ace_xml">?&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">project</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">xmlns</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"http://maven.apache.org/POM/4.0.0"</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">xmlns:xsi</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"http://www.w3.org/2001/XMLSchema-instance"</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">xsi:schemaLocation</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">modelVersion</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">4.0.0</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">modelVersion</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_comment ace_xml">&lt;!--parent project--&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">parent</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">  </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">groupId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">com.luxbp</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">groupId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">  </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">artifactId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">DataEngineSwarm</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">artifactId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">  </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">version</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">0.0.1-SNAPSHOT</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">version</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">parent</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">groupId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">com.luxbp</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">groupId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">artifactId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">micro-service-cloud-consumer-dept-80</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">artifactId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">version</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">0.0.1-SNAPSHOT</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">version</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">name</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">micro-service-cloud-consumer-dept-80</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">name</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">description</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">Demo project for Spring Boot</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">description</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">properties</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">java.version</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">1.8</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">java.version</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">properties</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">dependencies</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_comment ace_xml">&lt;!--common module--&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">dependency</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">groupId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">com.luxbp</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">groupId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">artifactId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">micro-service-cloud-api</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">artifactId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">version</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">${project.version}</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">version</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">dependency</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_comment ace_xml">&lt;!--Spring Boot Web--&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">dependency</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">groupId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">org.springframework.boot</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">groupId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">artifactId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">spring-boot-starter-web</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">artifactId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">dependency</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_comment ace_xml">&lt;!--lombok--&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">dependency</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">groupId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">org.projectlombok</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">groupId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">artifactId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">lombok</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">artifactId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">optional</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">true</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">optional</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">dependency</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_comment ace_xml">&lt;!--Spring Boot test--&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">dependency</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">groupId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">org.springframework.boot</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">groupId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">artifactId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">spring-boot-starter-test</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">artifactId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">scope</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">test</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">scope</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">dependency</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_comment ace_xml">&lt;!--Spring Cloud Eureka client depen --&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">dependency</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">groupId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">org.springframework.cloud</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">groupId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">artifactId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">spring-cloud-starter-netflix-eureka-client</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">artifactId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">dependency</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_comment ace_xml">&lt;!--Spring Cloud Ribbon depen--&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">dependency</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">groupId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">org.springframework.cloud</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">groupId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">artifactId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">spring-cloud-starter-netflix-ribbon</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">artifactId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">dependency</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">dependencies</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">build</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">plugins</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">plugin</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">groupId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">org.springframework.boot</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">groupId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">artifactId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">spring-boot-maven-plugin</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">artifactId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">configuration</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">excludes</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">exclude</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">groupId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">org.projectlombok</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">groupId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">artifactId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">lombok</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">artifactId</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">exclude</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">excludes</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">configuration</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">plugin</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">plugins</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">build</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">project</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div></div></div></div><div class="cell text-cell"><h3><span style="font-weight: normal;">(</span><span style="font-weight: normal; font-size: 13px;">2</span><span style="font-weight: normal; font-size: 13px;">) In the classpath (i.e./resource directory), create a new configuration file, application.yml, with the following configuration contents.</span></h3></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag">server</span><span class="ace_keyword">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag">  port</span><span class="ace_keyword">: </span><span class="ace_constant ace_numeric">80</span> <span class="ace_comment">#port num</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">############################################# Spring Cloud Ribbon LB config##########################</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag">eureka</span><span class="ace_keyword">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag">  client</span><span class="ace_keyword">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag">    register-with-eureka</span><span class="ace_keyword">: </span><span class="ace_constant ace_language ace_boolean">false</span> 
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag">    fetch-registry</span><span class="ace_keyword">: </span><span class="ace_constant ace_language ace_boolean">true</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag">    service-url</span><span class="ace_keyword">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_meta ace_tag">  defaultZone</span><span class="ace_keyword">: </span>http://eureka7001.com:<span class="ace_constant ace_numeric">7001</span>/eureka/,http://eureka7002.com:<span class="ace_constant ace_numeric">7002</span>/eureka/,http://eureka7003.com:<span class="ace_constant ace_numeric">7003</span>/eureka/
</div></div></div></div><div class="cell text-cell"><h3><span style="font-weight: normal;">(3) Under the com.luxbp.config package, create a configuration class named ConfigBean and inject the RestTemplate into the container. The code is as follows.</span></h3></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">package</span> <span class="ace_identifier">com</span>.<span class="ace_identifier">luxbp</span>.<span class="ace_identifier">config</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">import</span> <span class="ace_identifier">com</span>.<span class="ace_identifier">netflix</span>.<span class="ace_identifier">loadbalancer</span>.<span class="ace_identifier">IRule</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">import</span> <span class="ace_identifier">com</span>.<span class="ace_identifier">netflix</span>.<span class="ace_identifier">loadbalancer</span>.<span class="ace_identifier">RetryRule</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">import</span> <span class="ace_identifier">org</span>.<span class="ace_identifier">springframework</span>.<span class="ace_identifier">cloud</span>.<span class="ace_identifier">client</span>.<span class="ace_identifier">loadbalancer</span>.<span class="ace_identifier">LoadBalanced</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">import</span> <span class="ace_identifier">org</span>.<span class="ace_identifier">springframework</span>.<span class="ace_identifier">context</span>.<span class="ace_identifier">annotation</span>.<span class="ace_identifier">Bean</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">import</span> <span class="ace_identifier">org</span>.<span class="ace_identifier">springframework</span>.<span class="ace_identifier">context</span>.<span class="ace_identifier">annotation</span>.<span class="ace_identifier">Configuration</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">import</span> <span class="ace_identifier">org</span>.<span class="ace_identifier">springframework</span>.<span class="ace_identifier">web</span>.<span class="ace_identifier">client</span>.<span class="ace_identifier">RestTemplate</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>@<span class="ace_identifier">Configuration</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">public</span> <span class="ace_keyword">class</span> <span class="ace_identifier">ConfigBean</span> {
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    @<span class="ace_identifier">Bean</span> <span class="ace_comment">//inject RestTemplate</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    @<span class="ace_identifier">LoadBalanced</span> <span class="ace_comment">//open LB</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">public</span> <span class="ace_identifier">RestTemplate</span> <span class="ace_identifier">getRestTemplate</span>() {
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_keyword">return</span> <span class="ace_keyword">new</span> <span class="ace_identifier">RestTemplate</span>();
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    }
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>}
</div></div></div></div><div class="cell text-cell"><h3><span style="font-weight: normal;">(4) Under the&nbsp;com.luxbp.controller package, create a DeptController_ The Controller of the Consumer. The request defined in the Controller is used to call the service provided by the server. The code is as follows.</span></h3></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">package</span> <span class="ace_identifier">com</span>.<span class="ace_identifier">luxbp</span>.<span class="ace_identifier">controller</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">import</span> <span class="ace_identifier">com</span>.<span class="ace_identifier">luxbp</span>.<span class="ace_identifier">entity</span>.<span class="ace_identifier">Dept</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">import</span> <span class="ace_identifier">org</span>.<span class="ace_identifier">springframework</span>.<span class="ace_identifier">beans</span>.<span class="ace_identifier">factory</span>.<span class="ace_identifier">annotation</span>.<span class="ace_identifier">Autowired</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">import</span> <span class="ace_identifier">org</span>.<span class="ace_identifier">springframework</span>.<span class="ace_identifier">web</span>.<span class="ace_identifier">bind</span>.<span class="ace_identifier">annotation</span>.<span class="ace_identifier">PathVariable</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">import</span> <span class="ace_identifier">org</span>.<span class="ace_identifier">springframework</span>.<span class="ace_identifier">web</span>.<span class="ace_identifier">bind</span>.<span class="ace_identifier">annotation</span>.<span class="ace_identifier">RequestMapping</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">import</span> <span class="ace_identifier">org</span>.<span class="ace_identifier">springframework</span>.<span class="ace_identifier">web</span>.<span class="ace_identifier">bind</span>.<span class="ace_identifier">annotation</span>.<span class="ace_identifier">RestController</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">import</span> <span class="ace_identifier">org</span>.<span class="ace_identifier">springframework</span>.<span class="ace_identifier">web</span>.<span class="ace_identifier">client</span>.<span class="ace_identifier">RestTemplate</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">import</span> <span class="ace_identifier">java</span>.<span class="ace_identifier">util</span>.<span class="ace_identifier">List</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>@<span class="ace_identifier">RestController</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">public</span> <span class="ace_keyword">class</span> <span class="ace_identifier">DeptController_Consumer</span> {
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">private</span> <span class="ace_keyword">static</span> <span class="ace_keyword">final</span> <span class="ace_support ace_function">String</span> <span class="ace_identifier">REST_URL_PROVIDER_PREFIX</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">"http://MICROSERVICECLOUDPROVIDERDEPT"</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    @<span class="ace_identifier">Autowired</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">private</span> <span class="ace_identifier">RestTemplate</span> <span class="ace_identifier">restTemplate</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    @<span class="ace_identifier">RequestMapping</span>(<span class="ace_identifier">value</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">"/consumer/dept/get/{id}"</span>)
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">public</span> <span class="ace_identifier">Dept</span> <span class="ace_identifier">get</span>(@<span class="ace_identifier">PathVariable</span>(<span class="ace_string">"id"</span>) <span class="ace_support ace_function">Integer</span> <span class="ace_identifier">id</span>) {
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_keyword">return</span> <span class="ace_identifier">restTemplate</span>.<span class="ace_identifier">getForObject</span>(<span class="ace_identifier">REST_URL_PROVIDER_PREFIX</span> <span class="ace_keyword ace_operator">+</span> <span class="ace_string">"/dept/get/"</span> <span class="ace_keyword ace_operator">+</span> <span class="ace_identifier">id</span>, <span class="ace_identifier">Dept</span>.<span class="ace_keyword">class</span>);
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    }
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    @<span class="ace_identifier">RequestMapping</span>(<span class="ace_identifier">value</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">"/consumer/dept/list"</span>)
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">public</span> <span class="ace_identifier">List</span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_identifier">Dept</span><span class="ace_keyword ace_operator">&gt;</span> <span class="ace_identifier">list</span>() {
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_keyword">return</span> <span class="ace_identifier">restTemplate</span>.<span class="ace_identifier">getForObject</span>(<span class="ace_identifier">REST_URL_PROVIDER_PREFIX</span> <span class="ace_keyword ace_operator">+</span> <span class="ace_string">"/dept/list"</span>, <span class="ace_identifier">List</span>.<span class="ace_keyword">class</span>);
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    }
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>}
</div></div></div></div><div class="cell text-cell"><h3><span style="font-weight: normal;">(5) On the main startup class of micro-service-cloud-consumer-dept-80, use the @ EnableEurekaClient annotation to enable the Eureka client function. The code is as follows.</span></h3></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">package</span> <span class="ace_identifier">com</span>.<span class="ace_identifier">luxbp</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">import</span> <span class="ace_identifier">org</span>.<span class="ace_identifier">springframework</span>.<span class="ace_identifier">boot</span>.<span class="ace_identifier">SpringApplication</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">import</span> <span class="ace_identifier">org</span>.<span class="ace_identifier">springframework</span>.<span class="ace_identifier">boot</span>.<span class="ace_identifier">autoconfigure</span>.<span class="ace_identifier">SpringBootApplication</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">import</span> <span class="ace_identifier">org</span>.<span class="ace_identifier">springframework</span>.<span class="ace_identifier">cloud</span>.<span class="ace_identifier">netflix</span>.<span class="ace_identifier">eureka</span>.<span class="ace_identifier">EnableEurekaClient</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>@<span class="ace_identifier">SpringBootApplication</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>@<span class="ace_identifier">EnableEurekaClient</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">public</span> <span class="ace_keyword">class</span> <span class="ace_identifier">MicroServiceCloudConsumerDept80Application</span> {
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">public</span> <span class="ace_keyword">static</span> <span class="ace_keyword">void</span> <span class="ace_identifier">main</span>(<span class="ace_support ace_function">String</span>[] <span class="ace_identifier">args</span>) {
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">SpringApplication</span>.<span class="ace_identifier">run</span>(<span class="ace_identifier">MicroServiceCloudConsumerDept80Application</span>.<span class="ace_keyword">class</span>, <span class="ace_identifier">args</span>);
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    }
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>}
</div></div></div></div><div class="cell text-cell"><h3><span style="font-weight: normal;">(6) Start the service registry micro-service-cloud-eureka-7001, the service provider micro-service-cloud-provider-dept-8001, and the service consumer micro-service-cloud-consumer-dept-800.</span></h3></div><div class="cell text-cell"><h3><span style="font-weight: normal;">(7) Now we should see result if visit&nbsp;<span style="caret-color: rgb(68, 68, 68); color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, 微软雅黑, &quot;Microsoft Yahei&quot;, Helvetica, Arial, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);">http://eureka7001.com:80/consumer/dept/list</span></span></h3></div><div class="cell text-cell"><u><b>Ribbon realizes load balancing</b></u><div><div><br></div><div>Ribbon is a client-side load balancer, which can be used with Eureka to easily achieve client-side load balancing. Ribbon will first obtain the list of servers from Eureka Server (service registry), and then allocate requests to multiple servers through load balancing strategy to achieve load balancing.</div><div><br></div><div>The Spring Cloud Ribbon provides an IRule interface, which is mainly used to define load balancing policies. It has seven default implementation classes, each of which is a load balancing policy.<br></div></div><div><br></div><div>












<span style="caret-color: rgb(68, 68, 68);">

<table border="0" cellpadding="0" cellspacing="0" width="174" style="width: 130pt;">
<!--StartFragment-->
 <colgroup><col width="87" span="2" style="width:65pt">
 </colgroup><tbody><tr height="24" style="height:18.0pt">
  <td height="24" class="xl63" width="87" style="height:18.0pt;width:65pt">RoundRobinRule</td>
  <td class="xl63" width="87" style="width:65pt">According to the linear polling
  strategy, that is, select service instances in a certain order</td>
 </tr>
 <tr height="24" style="height:18.0pt">
  <td height="24" class="xl63" style="height:18.0pt">
  
  
  RandomRule</td>
  <td class="xl63">Select a service instance at random</td>
 </tr>
 <tr height="24" style="height:18.0pt">
  <td height="24" class="xl63" style="height:18.0pt">
  
  
  RetryRule</td>
  <td class="xl63">The service is obtained according to the policy of RoundRobin
  Rule (polling). If the obtained service instance is null or has expired, it
  will be retried continuously within the specified time (the policy for
  obtaining the service during the retry is still the policy defined in
  RoundRobin Rule). If the service instance is not obtained after the specified
  time, null will be returned.</td>
 </tr>
 <tr height="24" style="height:18.0pt">
  <td height="24" class="xl63" style="height:18.0pt">
  
  
  WeightedResponseTimeRule</td>
  <td>WeightedResponseTimeRule is a subclass of RoundRobin Rule, which extends
  the function of RoundRobin Rule. The weight of all service instances is
  calculated according to the average response time. The shorter the response
  time, the higher the weight of the service instance, and the greater the
  probability of being selected. At the beginning, if the statistical
  information is insufficient, use the linear polling strategy. When the
  information is sufficient, switch to WeightedResponseTimeRule.</td>
 </tr>
 <tr height="24" style="height:18.0pt">
  <td height="24" class="xl63" style="height:18.0pt">
  
  
  BestAvailableRule</td>
  <td>Inherited from ClientConfigEnabledRoundRobin Rule. First filter the
  service instances with point failures or failures, and then select the
  service instance with the smallest amount of concurrency.</td>
 </tr>
 <tr height="24" style="height:18.0pt">
  <td height="24" class="xl63" style="height:18.0pt">
  
  
  AvailabilityFilteringRule</td>
  <td>First filter out the failed or failed service instances, and then select
  the service instances with smaller concurrency.</td>
 </tr>
 <tr height="24" style="height:18.0pt">
  <td height="24" class="xl63" style="height:18.0pt">
  
  
  ZoneAvoidanceRule</td>
  <td>The default load balancing policy is used to comprehensively judge the
  performance of the service zone and the availability of the service to select
  the service instance. In the absence of regions, this policy is similar to
  the RandomRule policy.</td>
 </tr>
<!--EndFragment-->
</tbody></table></span></div></div><div class="cell text-cell">Next, we will use an instance to verify what policy the ribbon uses to select service instances by default.<h3><span style="font-weight: normal;">(1) Execute the following SQL statements in MySQL database to prepare test data.</span></h3></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">DROP</span> <span class="ace_keyword">DATABASE</span> <span class="ace_keyword">IF</span> <span class="ace_keyword">EXISTS</span> <span class="ace_identifier">spring_cloud_db2</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">CREATE</span> <span class="ace_keyword">DATABASE</span> <span class="ace_identifier">spring_cloud_db2</span> <span class="ace_keyword">CHARACTER</span> <span class="ace_keyword">SET</span> <span class="ace_identifier">UTF8</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">USE</span> <span class="ace_identifier">spring_cloud_db2</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">DROP</span> <span class="ace_keyword">TABLE</span> <span class="ace_keyword">IF</span> <span class="ace_keyword">EXISTS</span> <span class="ace_constant ace_buildin">`dept`</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">CREATE</span> <span class="ace_keyword">TABLE</span> <span class="ace_constant ace_buildin">`dept`</span> <span class="ace_paren ace_lparen">(</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_constant ace_buildin">`dept_no`</span> <span class="ace_support ace_function">int</span> <span class="ace_keyword">NOT</span> <span class="ace_constant">NULL</span> <span class="ace_keyword">AUTO_INCREMENT</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_constant ace_buildin">`dept_name`</span> <span class="ace_support ace_function">varchar</span><span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_numeric">255</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword">DEFAULT</span> <span class="ace_constant">NULL</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_constant ace_buildin">`db_source`</span> <span class="ace_support ace_function">varchar</span><span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_numeric">255</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword">DEFAULT</span> <span class="ace_constant">NULL</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">PRIMARY</span> <span class="ace_keyword">KEY</span> <span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_buildin">`dept_no`</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword">ENGINE</span><span class="ace_keyword ace_operator">=</span><span class="ace_keyword">InnoDB</span> <span class="ace_keyword">AUTO_INCREMENT</span><span class="ace_keyword ace_operator">=</span><span class="ace_constant ace_numeric">6</span> <span class="ace_keyword">DEFAULT</span> <span class="ace_variable ace_language">CHARSET</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">utf8mb4</span> <span class="ace_keyword">COLLATE</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">utf8mb4_0900_ai_ci</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">INSERT</span> <span class="ace_keyword">INTO</span> <span class="ace_constant ace_buildin">`dept`</span> <span class="ace_keyword">VALUES</span> <span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">'</span><span class="ace_string">1</span><span class="ace_string ace_end">'</span>, <span class="ace_string ace_start">'</span><span class="ace_string">dev</span><span class="ace_string ace_end">'</span>, <span class="ace_keyword">DATABASE</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">INSERT</span> <span class="ace_keyword">INTO</span> <span class="ace_constant ace_buildin">`dept`</span> <span class="ace_keyword">VALUES</span> <span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">'</span><span class="ace_string">2</span><span class="ace_string ace_end">'</span>, <span class="ace_string ace_start">'</span><span class="ace_string">hr</span><span class="ace_string ace_end">'</span>, <span class="ace_keyword">DATABASE</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">INSERT</span> <span class="ace_keyword">INTO</span> <span class="ace_constant ace_buildin">`dept`</span> <span class="ace_keyword">VALUES</span> <span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">'</span><span class="ace_string">3</span><span class="ace_string ace_end">'</span>, <span class="ace_string ace_start">'</span><span class="ace_string">fin</span><span class="ace_string ace_end">'</span>, <span class="ace_keyword">DATABASE</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">INSERT</span> <span class="ace_keyword">INTO</span> <span class="ace_constant ace_buildin">`dept`</span> <span class="ace_keyword">VALUES</span> <span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">'</span><span class="ace_string">4</span><span class="ace_string ace_end">'</span>, <span class="ace_string ace_start">'</span><span class="ace_string">marketing</span><span class="ace_string ace_end">'</span>, <span class="ace_keyword">DATABASE</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">INSERT</span> <span class="ace_keyword">INTO</span> <span class="ace_constant ace_buildin">`dept`</span> <span class="ace_keyword">VALUES</span> <span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">'</span><span class="ace_string">5</span><span class="ace_string ace_end">'</span>, <span class="ace_string ace_start">'</span><span class="ace_string">dev-ops</span><span class="ace_string ace_end">'</span>, <span class="ace_keyword">DATABASE</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">#############################################################################################</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">DROP</span> <span class="ace_keyword">DATABASE</span> <span class="ace_keyword">IF</span> <span class="ace_keyword">EXISTS</span> <span class="ace_identifier">spring_cloud_db3</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">CREATE</span> <span class="ace_keyword">DATABASE</span> <span class="ace_identifier">spring_cloud_db3</span> <span class="ace_keyword">CHARACTER</span> <span class="ace_keyword">SET</span> <span class="ace_identifier">UTF8</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">USE</span> <span class="ace_identifier">spring_cloud_db3</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">DROP</span> <span class="ace_keyword">TABLE</span> <span class="ace_keyword">IF</span> <span class="ace_keyword">EXISTS</span> <span class="ace_constant ace_buildin">`dept`</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">CREATE</span> <span class="ace_keyword">TABLE</span> <span class="ace_constant ace_buildin">`dept`</span> <span class="ace_paren ace_lparen">(</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_constant ace_buildin">`dept_no`</span> <span class="ace_support ace_function">int</span> <span class="ace_keyword">NOT</span> <span class="ace_constant">NULL</span> <span class="ace_keyword">AUTO_INCREMENT</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_constant ace_buildin">`dept_name`</span> <span class="ace_support ace_function">varchar</span><span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_numeric">255</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword">DEFAULT</span> <span class="ace_constant">NULL</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_constant ace_buildin">`db_source`</span> <span class="ace_support ace_function">varchar</span><span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_numeric">255</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword">DEFAULT</span> <span class="ace_constant">NULL</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">PRIMARY</span> <span class="ace_keyword">KEY</span> <span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_buildin">`dept_no`</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword">ENGINE</span><span class="ace_keyword ace_operator">=</span><span class="ace_keyword">InnoDB</span> <span class="ace_keyword">AUTO_INCREMENT</span><span class="ace_keyword ace_operator">=</span><span class="ace_constant ace_numeric">6</span> <span class="ace_keyword">DEFAULT</span> <span class="ace_variable ace_language">CHARSET</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">utf8mb4</span> <span class="ace_keyword">COLLATE</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">utf8mb4_0900_ai_ci</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">INSERT</span> <span class="ace_keyword">INTO</span> <span class="ace_constant ace_buildin">`dept`</span> <span class="ace_keyword">VALUES</span> <span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">'</span><span class="ace_string">1</span><span class="ace_string ace_end">'</span>, <span class="ace_string ace_start">'</span><span class="ace_string">dev</span><span class="ace_string ace_end">'</span>, <span class="ace_keyword">DATABASE</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">INSERT</span> <span class="ace_keyword">INTO</span> <span class="ace_constant ace_buildin">`dept`</span> <span class="ace_keyword">VALUES</span> <span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">'</span><span class="ace_string">2</span><span class="ace_string ace_end">'</span>, <span class="ace_string ace_start">'</span><span class="ace_string">hr</span><span class="ace_string ace_end">'</span>, <span class="ace_keyword">DATABASE</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">INSERT</span> <span class="ace_keyword">INTO</span> <span class="ace_constant ace_buildin">`dept`</span> <span class="ace_keyword">VALUES</span> <span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">'</span><span class="ace_string">3</span><span class="ace_string ace_end">'</span>, <span class="ace_string ace_start">'</span><span class="ace_string">fin</span><span class="ace_string ace_end">'</span>, <span class="ace_keyword">DATABASE</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">INSERT</span> <span class="ace_keyword">INTO</span> <span class="ace_constant ace_buildin">`dept`</span> <span class="ace_keyword">VALUES</span> <span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">'</span><span class="ace_string">4</span><span class="ace_string ace_end">'</span>, <span class="ace_string ace_start">'</span><span class="ace_string">marketing</span><span class="ace_string ace_end">'</span>, <span class="ace_keyword">DATABASE</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">INSERT</span> <span class="ace_keyword">INTO</span> <span class="ace_constant ace_buildin">`dept`</span> <span class="ace_keyword">VALUES</span> <span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">'</span><span class="ace_string">5</span><span class="ace_string ace_end">'</span>, <span class="ace_string ace_start">'</span><span class="ace_string">dev-ops</span><span class="ace_string ace_end">'</span>, <span class="ace_keyword">DATABASE</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>;
</div></div></div></div><div class="cell text-cell"><h3><span style="font-weight: normal;">(2) Refer to micro-service-cloud-provider-dept-8001, and create two microservices: micro-service-cloud-provider-dept-8002 and micro-service-cloud-provider-dept-8003. Modify the port number, database connection information and custom service name information (eureka. instance. instance id) in application.yml in micro-service-cloud-provider-dept-8002 and 8003</span></h3></div><div class="cell text-cell"><h3><span style="font-weight: normal;">(3) Start micro-service-cloud-eureka-7001/7002/7003 (service registry cluster), micro-service-cloud-provider-dept-8001/8002/8003 (service provider cluster) and micro-service-cloud-consumer-dept-800 (service consumer).</span></h3></div><div class="cell text-cell"><br></div><div class="cell text-cell"><b>Note: We can Switch LB Strategy and modify specific LB with Ribbon. Ribbon can also make time-out control strategy using Ribbon.</b><div><b>As we will use another independent&nbsp;components to realize those, so we are not going to explain how to realiaze here in detail for the time being.</b></div><div><b>More doc about how to do these with ribbon will be updated if Xianchen really get some time. Now he’ll focus on upgrading the project to Java 17.</b></div></div></div>
      <script>document.body.onkeyup = function(e) {
if (e.keyCode === 39) window.location.href = '6 - OpenFeign with RestTemplate.html';
if (e.keyCode === 37) window.location.href = '4 - Eureka Cluster.html';
}</script>
    </body>
    </html>
  